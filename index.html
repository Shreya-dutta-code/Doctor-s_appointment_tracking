<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Doctor Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* General Styles */
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      color: #333;
    }

    .dashboard {
      display: flex;
    }

    /* Sidebar Styles */
    .sidebar {
      width: 250px;
      background-color: #f8f9fa;
      height: 100vh;
      padding: 20px;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
    }

    .sidebar ul li {
      padding: 15px;
      margin: 10px 0;
      display: flex;
      align-items: center;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s;
    }

    .sidebar ul li:hover {
      background-color: #e9ecef;
    }

    .sidebar ul li.active {
      background-color: #007bff;
      color: white;
    }

    .sidebar ul li i {
      margin-right: 10px;
    }

    /* Main Content Styles */
    .main-content {
      flex: 1;
      padding: 20px;
    }

    /* Header Styles */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .welcome h1 {
      margin: 0;
      font-size: 24px;
    }

    .welcome p {
      margin: 0;
      color: #666;
    }

    .search-bar input {
      padding: 10px;
      width: 300px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
    }

    .profile {
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .profile img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-right: 10px;
    }

    .profile span {
      font-weight: 500;
    }

    .profile i {
      margin-left: 10px;
    }

    /* Metrics Styles */
    .metrics {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }

    .metric-box {
      flex: 1;
      padding: 20px;
      border-radius: 8px;
      color: white;
      text-align: center;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .metric-box:hover {
      transform: scale(1.05);
    }

    .metric-box.red {
      background-color: #ff6b6b;
    }

    .metric-box.purple {
      background-color: #9b59b6;
    }

    .metric-box.orange {
      background-color: #f39c12;
    }

    .metric-box i {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .metric-box h2 {
      margin: 0;
      font-size: 28px;
    }

    .metric-box p {
      margin: 0;
      font-size: 14px;
    }

    /* Table Styles */
    .appointment-table {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }

    .appointment-table h3 {
      margin: 0 0 20px 0;
      font-size: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    table th, table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    table th {
      background-color: #f8f9fa;
      font-weight: 600;
    }

    table tr:hover {
      background-color: #f1f1f1;
    }

    .view-all {
      text-align: right;
      margin-top: 10px;
    }

    .view-all a {
      color: #007bff;
      text-decoration: none;
      font-weight: 500;
    }

    .view-all a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <!-- Sidebar -->
    <div class="sidebar">
      <ul>
        <li> <a href="DASHBOARD DOC.html"><i class="fas fa-home"></i>Dashboard</a></li>
        <li><a href="APPOINTMENT USER.html"><i class="fas fa-calendar"></i> Appointment</a></li>
        <li><a href=""><i class="fas fa-user-injured"></i> My Patient</a></li>
        <li><a href=""><i class="fas fa-clock"></i> Schedule Timings</a></li>
        <li><a href=""><i class="fas fa-credit-card"></i> Payments</a></li>
        <li><a href=""><i class="fas fa-chart-line"></i> Reports</a></li>
        <li><a href=""><i class="fas fa-cog"></i> Profile Setting</a></li>
        <li><a href=""><i class="fas fa-headset"></i> Support Mode</a></li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Top Header -->
      <div class="header">
        <div class="welcome">
          <h1>Welcome, Dr. </h1>
          <p>Have a nice day at great work.</p>
        </div>
        <div class="search-bar">
          <input type="text" placeholder="Search Appointment, Patient, or ID...">
        </div>
        <div class="profile">
          <img src="https://via.placeholder.com/40" alt="Profile Picture">
          <span>DOCTOR NAME</span>
          <i class="fas fa-chevron-down"></i>
        </div>
      </div>

      <!-- Key Metrics -->
      <div class="metrics">
        <div class="metric-box red" onclick="showPatients()">
          <i class="fas fa-user"></i>
          <h2 id="total-patients">0</h2>
          <p>Total Patients on the Site</p>
        </div>
        <div class="metric-box purple" onclick="showAppointments()">
          <i class="fas fa-calendar"></i>
          <h2 id="total-appointments">0</h2>
          <p>Total Appointments</p>
        </div>
        <div class="metric-box orange" onclick="showConsultations()">
          <i class="fas fa-clipboard-list"></i>
          <h2 id="total-consultations">0</h2>
          <p>Total Consultations</p>
        </div>
      </div>

      <!-- Today's Appointments -->
      <div class="appointment-table">
        <h3>Today's Appointments</h3>
        <table id="today-appointments">
          <thead>
            <tr>
              <th>Patient Name</th>
              <th>Visit ID</th>
              <th>Date</th>
              <th>Gender</th>
              <th>Timing</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- Data will be populated here -->
          </tbody>
        </table>
        <div class="view-all">
          <a href="#">View All</a>
        </div>
      </div>

      <!-- Pending Appointments -->
      <div class="appointment-table">
        <h3>Appointment Pending</h3>
        <table id="pending-appointments">
          <thead>
            <tr>
              <th>Patient Name</th>
              <th>Visit ID</th>
              <th>Date</th>
              <th>Gender</th>
              <th>Timing</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <!-- Data will be populated here -->
          </tbody>
        </table>
        <div class="view-all">
          <a href="#">View All</a>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Fetch data from the backend
    async function fetchData() {
      const response = await fetch('fetch_data.php');
      const data = await response.json();
      return data;
    }

    // Update the dashboard with fetched data
    async function updateDashboard() {
      const data = await fetchData();

      // Update metrics
      document.getElementById('total-patients').textContent = data.total_patients;
      document.getElementById('total-appointments').textContent = data.total_appointments;
      document.getElementById('total-consultations').textContent = data.total_consultations;

      // Update today's appointments
      const todayAppointmentsTable = document.getElementById('today-appointments').getElementsByTagName('tbody')[0];
      todayAppointmentsTable.innerHTML = data.today_appointments.map(appointment => `
        <tr>
          <td><img src="https://via.placeholder.com/30" alt="Avatar"> ${appointment.name}</td>
          <td>${appointment.visit_id}</td>
          <td>${appointment.date}</td>
          <td>${appointment.gender}</td>
          <td>${appointment.time}</td>
          <td><i class="fas fa-ellipsis-v"></i></td>
        </tr>
      `).join('');

      // Update pending appointments
      const pendingAppointmentsTable = document.getElementById('pending-appointments').getElementsByTagName('tbody')[0];
      pendingAppointmentsTable.innerHTML = data.pending_appointments.map(appointment => `
        <tr>
          <td><img src="https://via.placeholder.com/30" alt="Avatar"> ${appointment.name}</td>
          <td>${appointment.visit_id}</td>
          <td>${appointment.date}</td>
          <td>${appointment.gender}</td>
          <td>${appointment.time}</td>
          <td><i class="fas fa-ellipsis-v"></i></td>
        </tr>
      `).join('');
    }

    // Load dashboard data on page load
    window.onload = updateDashboard;

    // Sidebar click handlers
    function loadDashboard() {
      alert('Loading Dashboard...');
    }

    function loadAppointments() {
      alert('Loading Appointments...');
    }

    // Add more click handlers for other sidebar options...

    // Metric box click handlers
    function showPatients() {
      alert('Showing Patients...');
    }

    function showAppointments() {
      alert('Showing Appointments...');
    }

    function showConsultations() {
      alert('Showing Consultations...');
    }
  </script>
</body>
</html>
